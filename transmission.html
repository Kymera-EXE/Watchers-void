<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>+TRANSMISSION+</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      color: #00008b;
      font-family: monospace;
      font-size: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    #content {
      max-width: 700px;
      padding: 20px;
      text-align: left;
      white-space: pre-wrap;
      line-height: 1.6;
      animation: subtle-glitch 1s infinite alternate;
    }

    @keyframes subtle-glitch {
      0%   { text-shadow: 0 0 0.3px #ccc; transform: translate(0, 0); }
      50%  { text-shadow: 0.5px 0.5px 1px #9400d3; transform: translate(0.2px, -0.2px); }
      100% { text-shadow: 0 0 0.3px #ccc; transform: translate(0, 0); }
    }

    .char {
      opacity: 0;
      animation: appear 0.5s forwards;
    }

    @keyframes appear {
      to {
        opacity: 1;
      }
    }

    .purple { color: #9400d3; }
    .red { color: #cc0000; }

    button {
      background-color: #000;
      border: 1px solid #9400d3;
      color: #9400d3;
      padding: 4px 10px;
      font-size: 11px;
      cursor: pointer;
      margin: 5px;
      margin-top: 15px;
    }

    #buttons, #revealSection {
      margin-top: 20px;
    }

    audio {
      display: none;
    }
  </style>
</head>
<body>
  <div id="content">
    <div id="text-container"></div>

    <div id="buttons" style="display:none;">
      <button onclick="deny()">N</button>
      <button onclick="reveal()">Y</button>
    </div>

    <div id="revealSection" style="display:none;">
      <p class="red">[NOME INACESSÍVEL]</p>
      <p>⚠ Este canal está sob proteção do Protocolo W-A-T</p>
      <p>⚠ Rastreamento de origens cognitivas em andamento...</p>
      <p class="purple">⍜ Você sempre me viu.<br>⍜ Você não se lembra?</p>
      <button onclick="nextPage()">+ Dream +</button>
    </div>
  </div>

  <audio id="bg-audio" autoplay loop>
    <source src="unconftransmission.mp3" type="audio/mpeg">
    Seu navegador não suporta áudio.
  </audio>

  <script>
    const lines = [
      "///---=== TRANSMISSION RECEIVED ===---\\\\\\n",
      "ID: A-∴-VIGIA-77\\n",
      "Sinal: ♁ 14°52’N, 75°03’E",
      "Frequência de ruído: Estável",
      "Anomalia Observada: “SELETORES REM”",
      "Registros Comprometidos: Ricardo_00 / Isabela_Δ / Alex_Σ",
      "",
      "Status: [AGUARDANDO AUTORIZAÇÃO DE DESCIDA]",
      "+ Prosseguir? +"
    ];

    const container = document.getElementById("text-container");
    let lineIndex = 0, charIndex = 0;

    function typeWriter() {
      if (lineIndex >= lines.length) {
        document.getElementById("buttons").style.display = "block";
        return;
      }

      const currentLine = lines[lineIndex];
      if (charIndex < currentLine.length) {
        const span = document.createElement("span");
        span.classList.add("char");
        span.style.animationDelay = "0s";
        span.textContent = currentLine[charIndex] === '\\n' ? '\\n' : currentLine[charIndex];
        container.appendChild(span);
        charIndex++;
        setTimeout(typeWriter, 20);
      } else {
        container.appendChild(document.createElement("br"));
        lineIndex++;
        charIndex = 0;
        setTimeout(typeWriter, 100);
      }
    }

    window.onload = typeWriter;

    // Áudio autoplay workaround
    window.addEventListener('click', () => {
      const audio = document.getElementById('bg-audio');
      if (audio.paused) {
        audio.play().catch(() => {});
      }
    });

    function reveal() {
      document.getElementById("revealSection").style.display = "block";
    }

    function deny() {
      window.location.href = "index.html";
    }

    function nextPage() {
      window.location.href = "dream.html";
    }
  </script>
</body>
</html>
